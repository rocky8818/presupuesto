{"ast":null,"code":"import _objectSpread from\"C:/Users/Ricardo/React1/presupuesto/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/Ricardo/React1/presupuesto/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Ricardo/React1/presupuesto/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext}from\"react\";import{v4 as uuidV4}from'uuid';import useLocalStorage from\"../hooks/useLocalStorage\";import{jsx as _jsx}from\"react/jsx-runtime\";var BudgetsContext=/*#__PURE__*/React.createContext();export var UNCATEGORIZED_BUDGET_ID=\"Otros\";export function useBudgets(){return useContext(BudgetsContext);}export var BudgetsProvider=function BudgetsProvider(_ref){var children=_ref.children;var _useLocalStorage=useLocalStorage(\"budgets\",[]),_useLocalStorage2=_slicedToArray(_useLocalStorage,2),budgets=_useLocalStorage2[0],setBudgets=_useLocalStorage2[1];var _useLocalStorage3=useLocalStorage(\"expenses\",[]),_useLocalStorage4=_slicedToArray(_useLocalStorage3,2),expenses=_useLocalStorage4[0],setExpenses=_useLocalStorage4[1];function getBudgetExpenses(budgetId){return expenses.filter(function(expense){return expense.budgetId===budgetId;});}function addExpense(_ref2){var description=_ref2.description,amount=_ref2.amount,budgetId=_ref2.budgetId;setExpenses(function(prevExpenses){return[].concat(_toConsumableArray(prevExpenses),[{id:uuidV4(),description:description,amount:amount,budgetId:budgetId}]);});}function addBudget(_ref3){var name=_ref3.name,max=_ref3.max;setBudgets(function(prevBudgets){if(prevBudgets.find(function(budget){return budget.name===name;})){return prevBudgets;}return[].concat(_toConsumableArray(prevBudgets),[{id:uuidV4(),name:name,max:max}]);});}function deleteBudget(_ref4){var id=_ref4.id;setExpenses(function(prevExpenses){return prevExpenses.map(function(expense){if(expense.budgetId!==id)return expense;return _objectSpread(_objectSpread({},expense),{},{budgetId:UNCATEGORIZED_BUDGET_ID});});});}function deleteExpense(_ref5){var id=_ref5.id;setExpenses(function(prevExpenses){return prevExpenses.filter(function(expense){return expense.id!==id;});});}return/*#__PURE__*/_jsx(BudgetsContext.Provider,{value:{budgets:budgets,expenses:expenses,getBudgetExpenses:getBudgetExpenses,addExpense:addExpense,addBudget:addBudget,deleteBudget:deleteBudget,deleteExpense:deleteExpense},children:children});};","map":{"version":3,"names":["React","useContext","v4","uuidV4","useLocalStorage","jsx","_jsx","BudgetsContext","createContext","UNCATEGORIZED_BUDGET_ID","useBudgets","BudgetsProvider","_ref","children","_useLocalStorage","_useLocalStorage2","_slicedToArray","budgets","setBudgets","_useLocalStorage3","_useLocalStorage4","expenses","setExpenses","getBudgetExpenses","budgetId","filter","expense","addExpense","_ref2","description","amount","prevExpenses","concat","_toConsumableArray","id","addBudget","_ref3","name","max","prevBudgets","find","budget","deleteBudget","_ref4","map","_objectSpread","deleteExpense","_ref5","Provider","value"],"sources":["C:/Users/Ricardo/React1/presupuesto/src/contexts/BudgetsContext.js"],"sourcesContent":["import React, {useContext} from \"react\";\r\nimport {v4 as uuidV4} from 'uuid';\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\nconst BudgetsContext = React.createContext()\r\n\r\nexport const UNCATEGORIZED_BUDGET_ID = \"Otros\"\r\n\r\nexport function useBudgets(){\r\n    return useContext(BudgetsContext)\r\n}\r\n\r\nexport const BudgetsProvider = ({children}) =>{\r\n    const [budgets, setBudgets] =useLocalStorage(\"budgets\",[])\r\n    const [expenses, setExpenses]= useLocalStorage(\"expenses\",[])\r\n    \r\n    function getBudgetExpenses(budgetId){\r\n        return expenses.filter(expense => expense.budgetId === budgetId)\r\n    }\r\n    function addExpense({description, amount, budgetId}){\r\n        setExpenses(prevExpenses => {\r\n            return [...prevExpenses,{id: uuidV4(), description, amount, budgetId}]\r\n        })\r\n    }\r\n    function addBudget({ name, max }) {\r\n        setBudgets(prevBudgets => {\r\n            if (prevBudgets.find(budget => budget.name === name)) {\r\n            return prevBudgets\r\n            }\r\n            return [...prevBudgets,{id: uuidV4(), name, max}]\r\n        })\r\n    }\r\n\r\n    function deleteBudget({ id }) {\r\n        setExpenses(prevExpenses => {\r\n            return prevExpenses.map(expense => {\r\n                if (expense.budgetId !== id) return expense\r\n            return {...expense, budgetId: UNCATEGORIZED_BUDGET_ID }\r\n            })\r\n        })\r\n    }\r\n\r\n    function deleteExpense({ id }) {\r\n        setExpenses(prevExpenses => {\r\n            return prevExpenses.filter(expense => expense.id !== id)\r\n        })\r\n    }\r\n    \r\n    return (<BudgetsContext.Provider \r\n    value={{\r\n        budgets,\r\n        expenses,\r\n        getBudgetExpenses,\r\n        addExpense,\r\n        addBudget,\r\n        deleteBudget,\r\n        deleteExpense\r\n    }}>\r\n        {children}\r\n    </BudgetsContext.Provider>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}