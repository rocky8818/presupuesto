{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ricardo\\\\React1\\\\presupuesto\\\\src\\\\contexts\\\\BudgetsContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport { v4 as uuidV4 } from 'uuid';\nimport useLocalStorage from \"../hooks/useLocalStorage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BudgetsContext = /*#__PURE__*/React.createContext();\nexport function useBudgets() {\n  _s();\n  return useContext(BudgetsContext);\n}\n_s(useBudgets, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const BudgetsProvider = _ref => {\n  _s2();\n  let {\n    children\n  } = _ref;\n  const [budgets, setBudgets] = useLocalStorage(\"budgets\", []);\n  const [expenses, setExpenses] = useLocalStorage(\"expenses\", []);\n  function getBudgetExpenses(budgetId) {\n    return expenses.filter(expense => expense.budgetId === budgetId);\n  }\n  function addExpense(description, amount, budgetId) {\n    setExpenses(prevExpenses => {\n      return [...prevExpenses, {\n        id: uuidV4(),\n        description,\n        amount,\n        budgetId\n      }];\n    });\n  }\n  function addBudget(_ref2) {\n    let {\n      name,\n      max\n    } = _ref2;\n    setBudgets(prevBudgets => {\n      if (prevBudgets.find(budget => budget.name === name)) {\n        return prevBudgets;\n      }\n      return [...prevBudgets, {\n        id: uuidV4(),\n        name,\n        max\n      }];\n    });\n  }\n  function deleteBudget(_ref3) {\n    let {\n      id\n    } = _ref3;\n    setBudgets(prevBudgets => {\n      return prevBudgets.filter(budget => budget.id !== id);\n    });\n  }\n  function deleteExpense(_ref4) {\n    let {\n      id\n    } = _ref4;\n    setExpenses(prevExpenses => {\n      return prevExpenses.filter(expense => expense.id !== id);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(BudgetsContext.Provider, {\n    value: {\n      budgets,\n      expenses,\n      getBudgetExpenses,\n      addExpense,\n      addBudget,\n      deleteBudget,\n      deleteExpense\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 12\n  }, this);\n};\n_s2(BudgetsProvider, \"J7E4d7guQZ/gp2cZLJi5v6QwLyA=\", false, function () {\n  return [useLocalStorage, useLocalStorage];\n});\n_c = BudgetsProvider;\nvar _c;\n$RefreshReg$(_c, \"BudgetsProvider\");","map":{"version":3,"names":["React","useContext","useState","v4","uuidV4","useLocalStorage","jsxDEV","_jsxDEV","BudgetsContext","createContext","useBudgets","_s","BudgetsProvider","_ref","_s2","children","budgets","setBudgets","expenses","setExpenses","getBudgetExpenses","budgetId","filter","expense","addExpense","description","amount","prevExpenses","id","addBudget","_ref2","name","max","prevBudgets","find","budget","deleteBudget","_ref3","deleteExpense","_ref4","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Ricardo/React1/presupuesto/src/contexts/BudgetsContext.js"],"sourcesContent":["import React, {useContext, useState} from \"react\";\r\nimport {v4 as uuidV4} from 'uuid';\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\nconst BudgetsContext = React.createContext()\r\nexport function useBudgets(){\r\n    return useContext(BudgetsContext)\r\n}\r\n\r\nexport const BudgetsProvider = ({children}) =>{\r\n    const [budgets, setBudgets] =useLocalStorage(\"budgets\",[])\r\n    const [expenses, setExpenses]= useLocalStorage(\"expenses\",[])\r\n    function getBudgetExpenses(budgetId){\r\n        return expenses.filter(expense => expense.budgetId === budgetId)\r\n    }\r\n    function addExpense(description, amount, budgetId){\r\n        setExpenses(prevExpenses => {\r\n            return [...prevExpenses,{id: uuidV4(), description, amount, budgetId}]\r\n        })\r\n    }\r\n    function addBudget({name, max}){\r\n        setBudgets(prevBudgets => {\r\n            if(prevBudgets.find(budget =>budget.name===name)){\r\n                return prevBudgets\r\n            }\r\n            return [...prevBudgets,{id: uuidV4(), name, max}]\r\n        })\r\n    }\r\n    function deleteBudget({id}){\r\n        setBudgets(prevBudgets=>{\r\n            return prevBudgets.filter(budget => budget.id !== id)\r\n        })\r\n    }\r\n    function deleteExpense({id}){\r\n        setExpenses(prevExpenses =>{\r\n            return prevExpenses.filter(expense => expense.id !== id)\r\n        })\r\n    }\r\n\r\n    return <BudgetsContext.Provider value={{\r\n\r\n        budgets,\r\n        expenses,\r\n        getBudgetExpenses,\r\n        addExpense,\r\n        addBudget,\r\n        deleteBudget,\r\n        deleteExpense\r\n    }}>\r\n        {children}\r\n    </BudgetsContext.Provider>\r\n}"],"mappings":";;;AAAA,OAAOA,KAAK,IAAGC,UAAU,EAAEC,QAAQ,QAAO,OAAO;AACjD,SAAQC,EAAE,IAAIC,MAAM,QAAO,MAAM;AACjC,OAAOC,eAAe,MAAM,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AACvD,MAAMC,cAAc,gBAAGR,KAAK,CAACS,aAAa,EAAE;AAC5C,OAAO,SAASC,UAAUA,CAAA,EAAE;EAAAC,EAAA;EACxB,OAAOV,UAAU,CAACO,cAAc,CAAC;AACrC;AAACG,EAAA,CAFeD,UAAU;AAI1B,OAAO,MAAME,eAAe,GAAGC,IAAA,IAAe;EAAAC,GAAA;EAAA,IAAd;IAACC;EAAQ,CAAC,GAAAF,IAAA;EACtC,MAAM,CAACG,OAAO,EAAEC,UAAU,CAAC,GAAEZ,eAAe,CAAC,SAAS,EAAC,EAAE,CAAC;EAC1D,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAEd,eAAe,CAAC,UAAU,EAAC,EAAE,CAAC;EAC7D,SAASe,iBAAiBA,CAACC,QAAQ,EAAC;IAChC,OAAOH,QAAQ,CAACI,MAAM,CAACC,OAAO,IAAIA,OAAO,CAACF,QAAQ,KAAKA,QAAQ,CAAC;EACpE;EACA,SAASG,UAAUA,CAACC,WAAW,EAAEC,MAAM,EAAEL,QAAQ,EAAC;IAC9CF,WAAW,CAACQ,YAAY,IAAI;MACxB,OAAO,CAAC,GAAGA,YAAY,EAAC;QAACC,EAAE,EAAExB,MAAM,EAAE;QAAEqB,WAAW;QAAEC,MAAM;QAAEL;MAAQ,CAAC,CAAC;IAC1E,CAAC,CAAC;EACN;EACA,SAASQ,SAASA,CAAAC,KAAA,EAAa;IAAA,IAAZ;MAACC,IAAI;MAAEC;IAAG,CAAC,GAAAF,KAAA;IAC1Bb,UAAU,CAACgB,WAAW,IAAI;MACtB,IAAGA,WAAW,CAACC,IAAI,CAACC,MAAM,IAAGA,MAAM,CAACJ,IAAI,KAAGA,IAAI,CAAC,EAAC;QAC7C,OAAOE,WAAW;MACtB;MACA,OAAO,CAAC,GAAGA,WAAW,EAAC;QAACL,EAAE,EAAExB,MAAM,EAAE;QAAE2B,IAAI;QAAEC;MAAG,CAAC,CAAC;IACrD,CAAC,CAAC;EACN;EACA,SAASI,YAAYA,CAAAC,KAAA,EAAM;IAAA,IAAL;MAACT;IAAE,CAAC,GAAAS,KAAA;IACtBpB,UAAU,CAACgB,WAAW,IAAE;MACpB,OAAOA,WAAW,CAACX,MAAM,CAACa,MAAM,IAAIA,MAAM,CAACP,EAAE,KAAKA,EAAE,CAAC;IACzD,CAAC,CAAC;EACN;EACA,SAASU,aAAaA,CAAAC,KAAA,EAAM;IAAA,IAAL;MAACX;IAAE,CAAC,GAAAW,KAAA;IACvBpB,WAAW,CAACQ,YAAY,IAAG;MACvB,OAAOA,YAAY,CAACL,MAAM,CAACC,OAAO,IAAIA,OAAO,CAACK,EAAE,KAAKA,EAAE,CAAC;IAC5D,CAAC,CAAC;EACN;EAEA,oBAAOrB,OAAA,CAACC,cAAc,CAACgC,QAAQ;IAACC,KAAK,EAAE;MAEnCzB,OAAO;MACPE,QAAQ;MACRE,iBAAiB;MACjBI,UAAU;MACVK,SAAS;MACTO,YAAY;MACZE;IACJ,CAAE;IAAAvB,QAAA,EACGA;EAAQ;IAAA2B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACa;AAC9B,CAAC;AAAA/B,GAAA,CA1CYF,eAAe;EAAA,QACKP,eAAe,EACbA,eAAe;AAAA;AAAAyC,EAAA,GAFrClC,eAAe;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}